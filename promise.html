<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>promise </title>
</head>
<body>

    <script>
        // promise : promise is an object which can represent eventual completion or failure of any asynchronouse operation . to solve  the drawbacks of using call back function  for async task, promise are used  promise makes async code much more readble . error handling is also easier impromise 


        // there three major states of promises
        //1. pending
        //2. resolved
        //3.reject


        
        let news=[
            {newtitle:'first title',content:'this is the first content'},
            {newtitle:'second title',content:'this is the second content'},

            {newtitle:'third title',content:'this is the third content'},



            

        ]

        const shownews=() =>{
            setTimeout(()=>{
                let result=''
                news.forEach(post =>{
                    result+= `<li>${post.newtitle}</title>`
                })

                document.querySelector('div').innerHTML= result
            }, 3000)


        }

        shownews
        addnews({newstitle:'forth title',content:'this is the forth content'})


        // create  function  addnews that return to promise 

        const addnews=(newsdate)=>{
            return new promise((resolve,reject)=>{
                setTimeout(()=>{
                    news.push(newsdate)
                    let error=false
                    if(! error){
                        resolve()
                    }
                    else{
                        reject('error: something went wrong')
                    }
                },6000)
            })
        }

      
      
    </script>
    
</body>
</html>